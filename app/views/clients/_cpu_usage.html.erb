<%#= cpu_usage.inspect %><br />
<script> 
  function draw_<%= cpu_usage[:canvas_id] %>_graph()
  {

    var line9 = new RGraph.Line('<%= cpu_usage[:canvas_id] %>', <%= cpu_usage[:data] %>);
    line9.Set('chart.background.barcolor1', 'white');
    line9.Set('chart.background.barcolor2', 'white');
    line9.Set('chart.background.grid', true);
    line9.Set('chart.linewidth', 1);
    line9.Set('chart.gutter', 80);
    line9.Set('chart.hmargin', 0);
    line9.Set('chart.shadow', false);
    line9.Set('chart.tickmarks', null);
    line9.Set('chart.xticks', 20);
    line9.Set('chart.colors', ['red', 'green', 'blue']);
    line9.Set('chart.xaxispos', 'bottom');
    line9.Set('chart.background.grid.autofit', true);
    line9.Set('chart.background.grid.autofit.numhlines', 10);
    line9.Set('chart.background.grid.autofit.numvlines', 10);

    line9.Set('chart.ymin', <%= cpu_usage[:ymin] %>);
    line9.Set('chart.ymax', <%= cpu_usage[:ymax] %>);
    line9.Set('chart.title.yaxis', '<%= cpu_usage[:ylabel] %>');
    line9.Set('chart.text.size', 8);

    // Define a context menu that allows you to toggle the background grid. The two options simply:
    //  1. Set the appropriate setting on the object
    //  2. Clear the canvas
    //  3. Draw the graph again
    line9.Draw();
  }
  
  draw_<%= cpu_usage[:canvas_id] %>_graph();
</script> 
<br />
<canvas id="<%= cpu_usage[:canvas_id] %>" width="475" height="350"></canvas>